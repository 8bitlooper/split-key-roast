{% extends "layout/base.html" %}
{% block title %}Active Roast{% endblock %}
{% block head %}
    {{ super() }}
    <link href="resources/css/roast.css" rel="stylesheet">
{% endblock %}
{% block content %}
  <div class="row">
    <nav class="col-sm-3 col-md-2 d-none d-sm-block bg-light sidebar">
      <h5 class="nav-link">Controls  <i id="status" class="fa fa-circle disconnected" aria-hidden="true"></i></h5>
      <!-- <button class="btn btn-sm btn-primary mock" type="button" action="true">Mock</button> -->
      <button class="btn btn-sm btn-primary setup" type="button" action="true">Setup</button>
      <button class="btn btn-sm btn-primary shutdown" type="button" action="true">Shutdown</button>
      <button id="export-png" class="btn btn-sm btn-primary">Save Graph</button>

      <h5 class="nav-link">Drum Motor</h5>
      <button id="drum-motor-btn" class="btn btn-sm toggle-control" type="button" action=""></button>

      <h5 class="nav-link">Stirring Motor</h5>
      <button id="cooling-motor-btn" class="btn btn-sm toggle-control" type="button" action=""></button>

      <h5 class="nav-link">Drum Hatch</h5>
      <button id="solenoid-btn" class="btn btn-sm toggle-control" type="button" action=""></button>

      <h5 class="nav-link">Fan</h5>
      <div id="fan-slider" class="slider">
        <div id="fan-handle" class="ui-slider-handle"></div>
      </div>

      <h5 class="nav-link">Heat</h5>
      <div id="heat-slider" class="slider">
        <div id="heat-handle" class="ui-slider-handle"></div>
      </div>
    </nav>

    <main role="main" class="col-sm-9 ml-sm-auto col-md-10 pt-3">
      <table class="table table-sm table-bordered">
        <thead>
          <tr>
            <th scope="col" class="tbl-label">ET</th>
            <th scope="col" class="tbl-label">BT</th>
            <th scope="col" class="tbl-label">Heater</th>
            <th scope="col" class="tbl-label">Fan</th>
            <th scope="col" class="tbl-label">Main Fan</th>
            <th scope="col" class="tbl-label">Solenoid</th>
            <th scope="col" class="tbl-label">Drum Motor</th>
            <th scope="col" class="tbl-label">Cooling Motor</th>
            <th scope="col" class="tbl-label">Chaff Tray</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><span id="external-temp" class='reading'>-1</span></td>
            <td><span id="bean-temp" class='reading'>-1</span></td>
            <td><span id="heater" class='reading'>-1</span></td>
            <td><span id="fan" class='reading'>-1</span></td>
            <td><span id="main-fan" class='reading'>-1</span></td>
            <td><span id="solenoid" class='reading'>-1</span></td>
            <td><span id="drum-motor" class='reading'>-1</span></td>
            <td><span id="cooling-motor" class='reading'>-1</span></td>
            <td><span id="chaff-tray" class='reading'>-1</span></td>
          </tr>
        </tbody>
      </table>
      <hr/>
      <div id="container" class="graph"></div>
      <div id="auxiliary" class="graph"></div>
    </main>
  </div>
{% endblock %}
{% block bottom_import %}
    {{ super() }}
    <script type="text/javascript">
    $("#fan-slider").slider({
      range: "min", value: 0, min: 0, max: 10,
      create: function() {
        $('#fan-handle').text($(this).slider("value"));
      }
    });
    $("#heat-slider").slider({
      range: "min", value: 0, min: 0, max: 100,
      create: function() {
        $('#heat-handle').text($(this).slider("value"));
      }
    });
    </script>
    <script src="resources/external/highcharts/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/offline-exporting.js"></script>

    <script src="resources/js/graph.js"></script>
    <script src="resources/js/hottop.js"></script>
{% endblock %}